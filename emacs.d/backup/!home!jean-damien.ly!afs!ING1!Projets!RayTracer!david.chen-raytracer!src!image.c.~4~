#include "image.h"

FILE *init_image(char *filename, int w, int h)
{
    FILE *out = fopen(filename, "w+");
    fprintf(out, "P3\n %d %d\n255\n", w, h);
    return out;
}

void set_pixel(FILE *out, vec3_t color, int w, int h)
{
    static int i = 0;
    static int j = 0;
    if (i == h)
        return;
    int x = color.x;
    int y = color.y;
    int z = color.z;
    fprintf(out, "%d %d %d  ", x, y, z);
    j++;
    if (j >= w)
    {
        j = 0;
        i++;
        fprintf(out, "\n");
    }
}